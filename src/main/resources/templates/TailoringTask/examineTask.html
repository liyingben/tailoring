<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <!-- import CSS -->
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
</head>
<body>
<div id="app">
    <h3>布料使用记录</h3>

    <el-form :inline="true" :model="taskData" class="demo-form-inline">
        <el-form-item label="裁剪人员：">
            {{taskData.group}} {{taskData.member}}
        </el-form-item>
        <el-form-item label="日期：">
            {{taskData.dueDate}}
        </el-form-item>
        <el-form-item label="NO:">
            <el-input v-model="taskData.no" placeholder="NO:"></el-input>
        </el-form-item>
        <el-form-item label="版本号:">
            1.00
        </el-form-item>
        <el-form-item>
            <el-button type="primary" @click="examinePass">审核通过</el-button>
        </el-form-item>

        <el-form-item>
            <el-button type="primary" @click="onSubmit">冲销</el-button>
        </el-form-item>
    </el-form>


    <el-form :inline="true" :model="taskData.tailoringPlan" class="demo-form-inline">
        <el-form-item label="布料编码：">
            {{taskData.fabricCode}}
        </el-form-item>
        <el-form-item label="颜色：">
            {{taskData.fabricColour}}
        </el-form-item>
        <el-form-item label="幅宽：">
            {{taskData.fabricWidthMeter}}
        </el-form-item>
        <el-form-item label="克重：">
            {{taskData.fabricWeight}}
        </el-form-item>
    </el-form>
    <h4>计划</h4>
    <el-container>
        <el-table
                :data="taskData.plans"
                style="width: 100%">

            <el-table-column
                    prop="workOrderNo"
                    label="加工单号"
                    width="180">
            </el-table-column>

            <el-table-column
                    prop="productCode"
                    label="产品编号">
            </el-table-column>

            <el-table-column
                    prop="quantity"
                    label="计划数量">
            </el-table-column>

            <el-table-column
                    prop="changePiecesQuantity"
                    label="换片数量">
            </el-table-column>

            <el-table-column
                    prop="fabricCode"
                    label="布料编号">
            </el-table-column>

            <el-table-column
                    prop="typeNumber"
                    label="版号"
                    width="180">
            </el-table-column>

            <el-table-column
                    prop="maxFloor"
                    label="最大层高"
                    width="180">
            </el-table-column>
        </el-table>
    </el-container>
    <h4>裁剪信息</h4>
    <el-container>
        <el-table
                :data="taskData.plans"
                style="width: 100%">

            <el-table-column
                    prop="workOrderNo"
                    label="加工单号">
            </el-table-column>

            <el-table-column
                    prop="productCode"
                    label="产品号码">
            </el-table-column>

            <el-table-column
                    prop="quantity"
                    label="本次裁剪（手输）">
            </el-table-column>

            <el-table-column
                    prop="changePiecesQuantity"
                    label="本次换片（手输）">
            </el-table-column>

            <el-table-column
                    prop="fabricCode"
                    label="布料编号">
            </el-table-column>

            <el-table-column
                    prop="typeGroup"
                    label="版型">
            </el-table-column>

            <el-table-column
                    prop="typeQuantity"
                    label="件数">
            </el-table-column>

            <el-table-column
                    prop="floor"
                    label="层高">
            </el-table-column>
        </el-table>
    </el-container>

    <h4>扫码信息</h4>
    <el-container>
        <el-table
                :data="taskData.fabricRecords"
                border
                :summary-method="getSummaries"
                show-summary
                style="width: 100%;">
            <el-table-column
                    prop="spreadingId"
                    label="输入次数"
                    >
            </el-table-column>

            <el-table-column
                    prop="reelNumber"
                    label="卷号" width="250">
            </el-table-column>

            <el-table-column
                    prop="lotNumber"
                    label="布批批号">
            </el-table-column>

            <el-table-column
                    prop="fabricWidth"
                    label="幅宽">
            </el-table-column>

            <el-table-column
                    prop="theoryLength"
                    label="理论长度">
            </el-table-column>

            <el-table-column
                    prop="spreadingCount"
                    label="拉布次数">
            </el-table-column>
            <el-table-column
                    prop="quantity"
                    label="拉布长度(米)">
            </el-table-column>
            <el-table-column
                    prop="floor"
                    label="层高">
            </el-table-column>
            <el-table-column
                    prop="spreadingLength"
                    label="拉布总长度(米)">
            </el-table-column>
        </el-table>
    </el-container>

    <h4>计算结果</h4>
    <el-container>
        <el-table
                :data="taskData.details"
                border
                style="width: 100%;">
            <el-table-column
                    prop="spreadingId"
                    label="输入次数"
                    >
            </el-table-column>
            <el-table-column
                    prop="workOrderNo"
                    label="工单">
            </el-table-column>
            <el-table-column
                    prop="productCode"
                    label="产品编号">
            </el-table-column>
            <el-table-column
                    prop="typeGroup"
                    label="版型">
            </el-table-column>
            <el-table-column
                    prop="quantity"
                    label="本次裁剪">
            </el-table-column>

            <el-table-column
                    prop="changePiecesQuantity"
                    label="本次换片">
            </el-table-column>
            <el-table-column
                    prop="typeQuantity"
                    label="件数">
            </el-table-column>
            <el-table-column
                    prop="spreadingQuantity"
                    label="拉布件数">
            </el-table-column>
            <el-table-column
                    prop="leftQuantity"
                    label="剩余可裁剪数量">
            </el-table-column>

        </el-table>
    </el-container>
    <el-container>
        <el-form :inline="true" :model="taskData.tailoringPlan" class="demo-form-inline" style="width: 100%; margin-top: 20px">
            <el-form-item label="审核人">
                <el-input v-model="taskData.checkName" placeholder="审核人"></el-input>
            </el-form-item>
            <el-form-item label="审核日期">
                <el-input v-model="taskData.checkDate" placeholder="审核日期"></el-input>
            </el-form-item>
        </el-form>
    </el-container>
</div>
</body>
<script src="http://momentjs.cn/downloads/moment.min.js"></script>
<!-- import Vue before Element -->
<script src="https://unpkg.com/vue/dist/vue.js"></script>
<!-- import JavaScript -->
<script src="https://unpkg.com/element-ui/lib/index.js"></script>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script src="https://unpkg.com/vue-router/dist/vue-router.js"></script>
<script>
    var router = new VueRouter({
        mode: 'history',
        routes: []
    });
    new Vue({
        router,
        el: '#app',
        data: function () {
            return {
                taskData:{"id":null,"createTime":null,"updateTime":null,"group":null,"member":null,"fabricCode":null,"typeGroup":null,"tailoringNo":null,"checkName":null,"checkDate":null,"erpflag":null,"erpid":null,"erpdatum":null,"status":null,"plans":[],"details":[{"id":103,"createTime":"2019-12-15 21:40","updateTime":"2019-12-15 21:40","taskId":100,"spreadingId":51,"tailoringPlanId":null,"workOrderNo":"2A-9496","typeGroup":"1","productLineNo":null,"productCode":"YY23-T-00-132-02","productQuantity":null,"fabricCode":null,"sumLength":null,"theoryLength":null,"spreadingLength":100,"spreadingCount":5,"floor":5,"quantity":405,"changePiecesQuantity":5,"typeQuantity":15,"spreadingQuantity":375,"bindingQuantity":null,"leftQuantity":35,"status":null},{"id":104,"createTime":"2019-12-15 21:40","updateTime":"2019-12-15 21:40","taskId":100,"spreadingId":51,"tailoringPlanId":null,"workOrderNo":"2A-9496","typeGroup":"1","productLineNo":null,"productCode":"YY23-T-00-132-03","productQuantity":null,"fabricCode":null,"sumLength":null,"theoryLength":null,"spreadingLength":100,"spreadingCount":5,"floor":5,"quantity":405,"changePiecesQuantity":5,"typeQuantity":15,"spreadingQuantity":0,"bindingQuantity":null,"leftQuantity":410,"status":null},{"id":105,"createTime":"2019-12-15 21:40","updateTime":"2019-12-15 21:40","taskId":100,"spreadingId":51,"tailoringPlanId":null,"workOrderNo":"2A-9496","typeGroup":"2","productLineNo":null,"productCode":"YY23-T-00-132-04","productQuantity":null,"fabricCode":null,"sumLength":null,"theoryLength":null,"spreadingLength":100,"spreadingCount":5,"floor":5,"quantity":405,"changePiecesQuantity":5,"typeQuantity":5,"spreadingQuantity":125,"bindingQuantity":null,"leftQuantity":285,"status":null},{"id":106,"createTime":"2019-12-15 21:40","updateTime":"2019-12-15 21:40","taskId":100,"spreadingId":51,"tailoringPlanId":null,"workOrderNo":"2A-9496","typeGroup":"3","productLineNo":null,"productCode":"YY23-T-00-132-05","productQuantity":null,"fabricCode":null,"sumLength":null,"theoryLength":null,"spreadingLength":100,"spreadingCount":5,"floor":5,"quantity":405,"changePiecesQuantity":5,"typeQuantity":5,"spreadingQuantity":125,"bindingQuantity":null,"leftQuantity":285,"status":null},{"id":107,"createTime":"2019-12-15 21:42","updateTime":"2019-12-15 21:42","taskId":100,"spreadingId":52,"tailoringPlanId":null,"workOrderNo":"2A-9496","typeGroup":"1","productLineNo":null,"productCode":"YY23-T-00-132-02","productQuantity":null,"fabricCode":null,"sumLength":null,"theoryLength":null,"spreadingLength":120,"spreadingCount":6,"floor":5,"quantity":405,"changePiecesQuantity":5,"typeQuantity":15,"spreadingQuantity":35,"bindingQuantity":null,"leftQuantity":-415,"status":"1"},{"id":108,"createTime":"2019-12-15 21:42","updateTime":"2019-12-15 21:42","taskId":100,"spreadingId":52,"tailoringPlanId":null,"workOrderNo":"2A-9496","typeGroup":"1","productLineNo":null,"productCode":"YY23-T-00-132-03","productQuantity":null,"fabricCode":null,"sumLength":null,"theoryLength":null,"spreadingLength":120,"spreadingCount":6,"floor":5,"quantity":405,"changePiecesQuantity":5,"typeQuantity":15,"spreadingQuantity":410,"bindingQuantity":null,"leftQuantity":-5,"status":"1"},{"id":109,"createTime":"2019-12-15 21:42","updateTime":"2019-12-15 21:42","taskId":100,"spreadingId":52,"tailoringPlanId":null,"workOrderNo":"2A-9496","typeGroup":"2","productLineNo":null,"productCode":"YY23-T-00-132-04","productQuantity":null,"fabricCode":null,"sumLength":null,"theoryLength":null,"spreadingLength":120,"spreadingCount":6,"floor":5,"quantity":405,"changePiecesQuantity":5,"typeQuantity":5,"spreadingQuantity":150,"bindingQuantity":null,"leftQuantity":135,"status":"1"},{"id":110,"createTime":"2019-12-15 21:42","updateTime":"2019-12-15 21:42","taskId":100,"spreadingId":52,"tailoringPlanId":null,"workOrderNo":"2A-9496","typeGroup":"3","productLineNo":null,"productCode":"YY23-T-00-132-05","productQuantity":null,"fabricCode":null,"sumLength":null,"theoryLength":null,"spreadingLength":120,"spreadingCount":6,"floor":5,"quantity":405,"changePiecesQuantity":5,"typeQuantity":5,"spreadingQuantity":150,"bindingQuantity":null,"leftQuantity":135,"status":"1"},{"id":129,"createTime":"2019-12-15 22:25","updateTime":"2019-12-15 22:25","taskId":100,"spreadingId":58,"tailoringPlanId":null,"workOrderNo":"2A-9496","typeGroup":"2","productLineNo":null,"productCode":"YY23-T-00-132-04","productQuantity":null,"fabricCode":null,"sumLength":null,"theoryLength":null,"spreadingLength":50,"spreadingCount":5,"floor":5,"quantity":405,"changePiecesQuantity":5,"typeQuantity":5,"spreadingQuantity":125,"bindingQuantity":null,"leftQuantity":10,"status":"1"},{"id":130,"createTime":"2019-12-15 22:25","updateTime":"2019-12-15 22:25","taskId":100,"spreadingId":58,"tailoringPlanId":null,"workOrderNo":"2A-9496","typeGroup":"3","productLineNo":null,"productCode":"YY23-T-00-132-05","productQuantity":null,"fabricCode":null,"sumLength":null,"theoryLength":null,"spreadingLength":50,"spreadingCount":5,"floor":5,"quantity":405,"changePiecesQuantity":5,"typeQuantity":5,"spreadingQuantity":125,"bindingQuantity":null,"leftQuantity":10,"status":"1"},{"id":137,"createTime":"2019-12-15 23:23","updateTime":"2019-12-15 23:23","taskId":100,"spreadingId":65,"tailoringPlanId":null,"workOrderNo":"2A-9496","typeGroup":"2","productLineNo":null,"productCode":"YY23-T-00-132-04","productQuantity":null,"fabricCode":null,"sumLength":null,"theoryLength":null,"spreadingLength":10,"spreadingCount":1,"floor":5,"quantity":405,"changePiecesQuantity":5,"typeQuantity":5,"spreadingQuantity":10,"bindingQuantity":null,"leftQuantity":0,"status":"1"},{"id":138,"createTime":"2019-12-15 23:23","updateTime":"2019-12-15 23:23","taskId":100,"spreadingId":65,"tailoringPlanId":null,"workOrderNo":"2A-9496","typeGroup":"3","productLineNo":null,"productCode":"YY23-T-00-132-05","productQuantity":null,"fabricCode":null,"sumLength":null,"theoryLength":null,"spreadingLength":10,"spreadingCount":1,"floor":5,"quantity":405,"changePiecesQuantity":5,"typeQuantity":5,"spreadingQuantity":10,"bindingQuantity":null,"leftQuantity":0,"status":"1"}],"fabricRecords":[{"id":171,"createTime":"2019-12-15 21:40","updateTime":"2019-12-15 21:40","taskId":100,"spreadingId":51,"sortNo":null,"group":null,"member":null,"fabricCode":null,"typeGroup":null,"workOrderNo":null,"productLineNo":null,"productCode":null,"quantity":20,"bindingQuantity":null,"productQuantity":null,"piecesNumber":null,"sumLength":null,"reelNumber":"4000RA9B04E1R1T19056L2B01","lotNumber":"9B04L2","theoryLength":800.0,"actualLength":800.0,"spreadingLength":100,"floor":5,"actualFabricWidth":null,"theoryFabricWidth":1.5,"spreadingCount":5,"changePiecesQuantity":null,"leftLength":700,"dueDate":"2019-12-15","type":null},{"id":172,"createTime":"2019-12-15 21:40","updateTime":"2019-12-15 21:40","taskId":100,"spreadingId":51,"sortNo":null,"group":null,"member":null,"fabricCode":null,"typeGroup":null,"workOrderNo":null,"productLineNo":null,"productCode":null,"quantity":20,"bindingQuantity":null,"productQuantity":null,"piecesNumber":null,"sumLength":null,"reelNumber":"4000RA9B04E1R1T19056L2B02","lotNumber":"9B04L2","theoryLength":800.0,"actualLength":800.0,"spreadingLength":100,"floor":5,"actualFabricWidth":null,"theoryFabricWidth":1.5,"spreadingCount":5,"changePiecesQuantity":null,"leftLength":700,"dueDate":"2019-12-15","type":null},{"id":173,"createTime":"2019-12-15 21:40","updateTime":"2019-12-15 21:40","taskId":100,"spreadingId":51,"sortNo":null,"group":null,"member":null,"fabricCode":null,"typeGroup":null,"workOrderNo":null,"productLineNo":null,"productCode":null,"quantity":20,"bindingQuantity":null,"productQuantity":null,"piecesNumber":null,"sumLength":null,"reelNumber":"4000RA9B04E1R1T19056L2B03","lotNumber":"9B04L2","theoryLength":800.0,"actualLength":800.0,"spreadingLength":100,"floor":5,"actualFabricWidth":null,"theoryFabricWidth":1.5,"spreadingCount":5,"changePiecesQuantity":null,"leftLength":700,"dueDate":"2019-12-15","type":null},{"id":174,"createTime":"2019-12-15 21:40","updateTime":"2019-12-15 21:40","taskId":100,"spreadingId":51,"sortNo":null,"group":null,"member":null,"fabricCode":null,"typeGroup":null,"workOrderNo":null,"productLineNo":null,"productCode":null,"quantity":20,"bindingQuantity":null,"productQuantity":null,"piecesNumber":null,"sumLength":null,"reelNumber":"4000RA9B04E1R1T19056L2B04","lotNumber":"9B04L2","theoryLength":800.0,"actualLength":800.0,"spreadingLength":100,"floor":5,"actualFabricWidth":null,"theoryFabricWidth":1.5,"spreadingCount":5,"changePiecesQuantity":null,"leftLength":700,"dueDate":"2019-12-15","type":null},{"id":175,"createTime":"2019-12-15 21:40","updateTime":"2019-12-15 21:40","taskId":100,"spreadingId":51,"sortNo":null,"group":null,"member":null,"fabricCode":null,"typeGroup":null,"workOrderNo":null,"productLineNo":null,"productCode":null,"quantity":20,"bindingQuantity":null,"productQuantity":null,"piecesNumber":null,"sumLength":null,"reelNumber":"4000RA9B04E1R1T19056L2B05","lotNumber":"9B04L2","theoryLength":800.0,"actualLength":800.0,"spreadingLength":100,"floor":5,"actualFabricWidth":null,"theoryFabricWidth":1.5,"spreadingCount":5,"changePiecesQuantity":null,"leftLength":700,"dueDate":"2019-12-15","type":null},{"id":176,"createTime":"2019-12-15 21:42","updateTime":"2019-12-15 21:42","taskId":100,"spreadingId":52,"sortNo":null,"group":null,"member":null,"fabricCode":null,"typeGroup":null,"workOrderNo":null,"productLineNo":null,"productCode":null,"quantity":20,"bindingQuantity":null,"productQuantity":null,"piecesNumber":null,"sumLength":null,"reelNumber":"4000RA9B04E1R1T19056L2B01","lotNumber":"9B04L2","theoryLength":800.0,"actualLength":700.0,"spreadingLength":120,"floor":5,"actualFabricWidth":null,"theoryFabricWidth":1.5,"spreadingCount":6,"changePiecesQuantity":null,"leftLength":580,"dueDate":"2019-12-15","type":null},{"id":177,"createTime":"2019-12-15 21:42","updateTime":"2019-12-15 21:42","taskId":100,"spreadingId":52,"sortNo":null,"group":null,"member":null,"fabricCode":null,"typeGroup":null,"workOrderNo":null,"productLineNo":null,"productCode":null,"quantity":20,"bindingQuantity":null,"productQuantity":null,"piecesNumber":null,"sumLength":null,"reelNumber":"4000RA9B04E1R1T19056L2B02","lotNumber":"9B04L2","theoryLength":800.0,"actualLength":700.0,"spreadingLength":120,"floor":5,"actualFabricWidth":null,"theoryFabricWidth":1.5,"spreadingCount":6,"changePiecesQuantity":null,"leftLength":580,"dueDate":"2019-12-15","type":null},{"id":178,"createTime":"2019-12-15 21:42","updateTime":"2019-12-15 21:42","taskId":100,"spreadingId":52,"sortNo":null,"group":null,"member":null,"fabricCode":null,"typeGroup":null,"workOrderNo":null,"productLineNo":null,"productCode":null,"quantity":20,"bindingQuantity":null,"productQuantity":null,"piecesNumber":null,"sumLength":null,"reelNumber":"4000RA9B04E1R1T19056L2B03","lotNumber":"9B04L2","theoryLength":800.0,"actualLength":700.0,"spreadingLength":120,"floor":5,"actualFabricWidth":null,"theoryFabricWidth":1.5,"spreadingCount":6,"changePiecesQuantity":null,"leftLength":580,"dueDate":"2019-12-15","type":null},{"id":179,"createTime":"2019-12-15 21:42","updateTime":"2019-12-15 21:42","taskId":100,"spreadingId":52,"sortNo":null,"group":null,"member":null,"fabricCode":null,"typeGroup":null,"workOrderNo":null,"productLineNo":null,"productCode":null,"quantity":20,"bindingQuantity":null,"productQuantity":null,"piecesNumber":null,"sumLength":null,"reelNumber":"4000RA9B04E1R1T19056L2B04","lotNumber":"9B04L2","theoryLength":800.0,"actualLength":700.0,"spreadingLength":120,"floor":5,"actualFabricWidth":null,"theoryFabricWidth":1.5,"spreadingCount":6,"changePiecesQuantity":null,"leftLength":580,"dueDate":"2019-12-15","type":null},{"id":180,"createTime":"2019-12-15 21:42","updateTime":"2019-12-15 21:42","taskId":100,"spreadingId":52,"sortNo":null,"group":null,"member":null,"fabricCode":null,"typeGroup":null,"workOrderNo":null,"productLineNo":null,"productCode":null,"quantity":20,"bindingQuantity":null,"productQuantity":null,"piecesNumber":null,"sumLength":null,"reelNumber":"4000RA9B04E1R1T19056L2B05","lotNumber":"9B04L2","theoryLength":800.0,"actualLength":700.0,"spreadingLength":120,"floor":5,"actualFabricWidth":null,"theoryFabricWidth":1.5,"spreadingCount":6,"changePiecesQuantity":null,"leftLength":580,"dueDate":"2019-12-15","type":null},{"id":200,"createTime":"2019-12-15 22:25","updateTime":"2019-12-15 22:25","taskId":100,"spreadingId":58,"sortNo":null,"group":null,"member":null,"fabricCode":null,"typeGroup":null,"workOrderNo":null,"productLineNo":null,"productCode":null,"quantity":10,"bindingQuantity":null,"productQuantity":null,"piecesNumber":null,"sumLength":null,"reelNumber":"4000RA9B04E1R1T19056L2B01","lotNumber":"9B04L2","theoryLength":800.0,"actualLength":580.0,"spreadingLength":50,"floor":5,"actualFabricWidth":null,"theoryFabricWidth":1.5,"spreadingCount":5,"changePiecesQuantity":null,"leftLength":530,"dueDate":"2019-12-15","type":0},{"id":201,"createTime":"2019-12-15 22:25","updateTime":"2019-12-15 22:25","taskId":100,"spreadingId":58,"sortNo":null,"group":null,"member":null,"fabricCode":null,"typeGroup":null,"workOrderNo":null,"productLineNo":null,"productCode":null,"quantity":10,"bindingQuantity":null,"productQuantity":null,"piecesNumber":null,"sumLength":null,"reelNumber":"4000RA9B04E1R1T19056L2B02","lotNumber":"9B04L2","theoryLength":800.0,"actualLength":580.0,"spreadingLength":50,"floor":5,"actualFabricWidth":null,"theoryFabricWidth":1.5,"spreadingCount":5,"changePiecesQuantity":null,"leftLength":530,"dueDate":"2019-12-15","type":0},{"id":202,"createTime":"2019-12-15 22:25","updateTime":"2019-12-15 22:25","taskId":100,"spreadingId":58,"sortNo":null,"group":null,"member":null,"fabricCode":null,"typeGroup":null,"workOrderNo":null,"productLineNo":null,"productCode":null,"quantity":10,"bindingQuantity":null,"productQuantity":null,"piecesNumber":null,"sumLength":null,"reelNumber":"4000RA9B04E1R1T19056L2B03","lotNumber":"9B04L2","theoryLength":800.0,"actualLength":580.0,"spreadingLength":50,"floor":5,"actualFabricWidth":null,"theoryFabricWidth":1.5,"spreadingCount":5,"changePiecesQuantity":null,"leftLength":530,"dueDate":"2019-12-15","type":0},{"id":203,"createTime":"2019-12-15 22:25","updateTime":"2019-12-15 22:25","taskId":100,"spreadingId":58,"sortNo":null,"group":null,"member":null,"fabricCode":null,"typeGroup":null,"workOrderNo":null,"productLineNo":null,"productCode":null,"quantity":10,"bindingQuantity":null,"productQuantity":null,"piecesNumber":null,"sumLength":null,"reelNumber":"4000RA9B04E1R1T19056L2B04","lotNumber":"9B04L2","theoryLength":800.0,"actualLength":580.0,"spreadingLength":50,"floor":5,"actualFabricWidth":null,"theoryFabricWidth":1.5,"spreadingCount":5,"changePiecesQuantity":null,"leftLength":530,"dueDate":"2019-12-15","type":0},{"id":204,"createTime":"2019-12-15 22:25","updateTime":"2019-12-15 22:25","taskId":100,"spreadingId":58,"sortNo":null,"group":null,"member":null,"fabricCode":null,"typeGroup":null,"workOrderNo":null,"productLineNo":null,"productCode":null,"quantity":10,"bindingQuantity":null,"productQuantity":null,"piecesNumber":null,"sumLength":null,"reelNumber":"4000RA9B04E1R1T19056L2B05","lotNumber":"9B04L2","theoryLength":800.0,"actualLength":580.0,"spreadingLength":50,"floor":5,"actualFabricWidth":null,"theoryFabricWidth":1.5,"spreadingCount":5,"changePiecesQuantity":null,"leftLength":530,"dueDate":"2019-12-15","type":0},{"id":235,"createTime":"2019-12-15 23:22","updateTime":"2019-12-15 23:22","taskId":100,"spreadingId":65,"sortNo":null,"group":null,"member":null,"fabricCode":null,"typeGroup":null,"workOrderNo":null,"productLineNo":null,"productCode":null,"quantity":10,"bindingQuantity":null,"productQuantity":null,"piecesNumber":null,"sumLength":null,"reelNumber":"4000RA9B04E1R1T19056L2B01","lotNumber":"9B04L2","theoryLength":800.0,"actualLength":530.0,"spreadingLength":10,"floor":2,"actualFabricWidth":null,"theoryFabricWidth":1.5,"spreadingCount":1,"changePiecesQuantity":null,"leftLength":520,"dueDate":"2019-12-15","type":0},{"id":236,"createTime":"2019-12-15 23:22","updateTime":"2019-12-15 23:22","taskId":100,"spreadingId":65,"sortNo":null,"group":null,"member":null,"fabricCode":null,"typeGroup":null,"workOrderNo":null,"productLineNo":null,"productCode":null,"quantity":10,"bindingQuantity":null,"productQuantity":null,"piecesNumber":null,"sumLength":null,"reelNumber":"4000RA9B04E1R1T19056L2B02","lotNumber":"9B04L2","theoryLength":800.0,"actualLength":530.0,"spreadingLength":10,"floor":2,"actualFabricWidth":null,"theoryFabricWidth":1.5,"spreadingCount":1,"changePiecesQuantity":null,"leftLength":520,"dueDate":"2019-12-15","type":0},{"id":237,"createTime":"2019-12-15 23:22","updateTime":"2019-12-15 23:22","taskId":100,"spreadingId":65,"sortNo":null,"group":null,"member":null,"fabricCode":null,"typeGroup":null,"workOrderNo":null,"productLineNo":null,"productCode":null,"quantity":null,"bindingQuantity":null,"productQuantity":null,"piecesNumber":null,"sumLength":null,"reelNumber":"4000RA9B04E1R1T19056L2B03","lotNumber":"9B04L2","theoryLength":800.0,"actualLength":530.0,"spreadingLength":null,"floor":null,"actualFabricWidth":null,"theoryFabricWidth":1.5,"spreadingCount":null,"changePiecesQuantity":null,"leftLength":null,"dueDate":"2019-12-15","type":1},{"id":238,"createTime":"2019-12-15 23:22","updateTime":"2019-12-15 23:22","taskId":100,"spreadingId":65,"sortNo":null,"group":null,"member":null,"fabricCode":null,"typeGroup":null,"workOrderNo":null,"productLineNo":null,"productCode":null,"quantity":null,"bindingQuantity":null,"productQuantity":null,"piecesNumber":null,"sumLength":null,"reelNumber":"4000RA9B04E1R1T19056L2B04","lotNumber":"9B04L2","theoryLength":800.0,"actualLength":530.0,"spreadingLength":null,"floor":null,"actualFabricWidth":null,"theoryFabricWidth":1.5,"spreadingCount":null,"changePiecesQuantity":null,"leftLength":null,"dueDate":"2019-12-15","type":2},{"id":239,"createTime":"2019-12-15 23:22","updateTime":"2019-12-15 23:22","taskId":100,"spreadingId":65,"sortNo":null,"group":null,"member":null,"fabricCode":null,"typeGroup":null,"workOrderNo":null,"productLineNo":null,"productCode":null,"quantity":null,"bindingQuantity":null,"productQuantity":null,"piecesNumber":null,"sumLength":null,"reelNumber":"4000RA9B04E1R1T19056L2B05","lotNumber":"9B04L2","theoryLength":800.0,"actualLength":530.0,"spreadingLength":null,"floor":null,"actualFabricWidth":null,"theoryFabricWidth":1.5,"spreadingCount":null,"changePiecesQuantity":null,"leftLength":null,"dueDate":"2019-12-15","type":3}]},
            }
        },
        mounted() {
            var id = this.$route.query.id;
            this.examineDetails(id);
        },
        methods: {

            onSubmit(){

            },
            getSummaries(param) {
                const {columns, data} = param;
                const sums = [];
                columns.forEach((column, index) => {
                    if (index === 0) {
                        sums[index] = '总计';
                        return;
                    }
                    const values = data.map(item => Number(item[column.property]));
                    if (!values.every(value => isNaN(value))) {
                        sums[index] = values.reduce((prev, curr) => {
                            const value = Number(curr);
                            if (!isNaN(value)) {
                                return prev + curr;
                            } else {
                                return prev;
                            }
                        }, 0);
                        sums[index] ;
                    } else {
                        sums[index] = 'N/A';
                    }
                });

                return sums;
            },
            examineDetails: function (id) {
                axios.get('http://localhost:8182/api/tailoringTask/taskDetails', {
                    params: {
                        id: this.$route.query.id
                    }
                }).then((response) => {
                    this.taskData = response.data.data;
                }).catch(function (error) {
                    console.log(error);
                });
            },
            examinePass: function () {
                axios.post('/tailoring/examinePass', {
                    id: this.$route.query.id,
                    checkName: "主任"
                }).then((response) => {
                    response.data.data;
                }).catch(function (error) {
                    console.log(error);
                });
            },
        }
    })
</script>
</html>